<div class="max-w-2xl mx-auto mt-10 bg-white shadow-md rounded-lg p-8">
  <h1 class="text-2xl font-bold mb-6 border-b pb-2">日記の詳細</h1>

  <dl class="space-y-5">
    <div>
      <dt class="font-semibold text-gray-700 mb-1">題名</dt>
      <dd class="border border-gray-300 rounded w-full p-2 bg-gray-50"><%= @diary_entry.title %></dd>
    </div>

    <div>
      <dt class="font-semibold text-gray-700 mb-1">作成日時</dt>
      <dd class="border border-gray-300 rounded w-full p-2 bg-gray-50"><%= @diary_entry.created_at.strftime("%Y/%m/%d") %></dd>
    </div>

    <div>
      <dt class="font-semibold text-gray-700 mb-1">内容</dt>
      <dd class="border border-gray-300 rounded w-full p-2 bg-gray-50 whitespace-pre-line"><%= @diary_entry.content %></dd>
    </div>
  </dl>

  <!-- コメント一覧 -->
  <div class="mt-10">
    <h2 class="text-lg font-semibold text-gray-700 mb-3">コメント一覧</h2>

    <% if @diary_entry.comments.any? %>
      <div class="space-y-3">
        <% @diary_entry.comments.each do |comment| %>
          <div class="bg-gray-50 border border-gray-200 rounded p-3 flex justify-between items-start">
            <p class="text-gray-800"><%= comment.content %></p>

            <% if comment.user == Current.user %>
              <%= link_to "削除",
                          diary_entry_comment_path(@diary_entry, comment),
                          data: { turbo_method: :delete, turbo_confirm: "このコメントを削除しますか？" },
                          class: "text-sm text-red-500 hover:underline" %>
            <% end %>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-gray-500 text-sm">まだコメントはありません。</p>
    <% end %>
  </div>

  <%= render "comments/form" %>

  <!-- ボタン -->
  <div class="flex justify-end items-center space-x-3 mt-8 border-t pt-4">
    <%= link_to "編集する",
                edit_diary_entry_path(@diary_entry),
                class: "bg-blue-500 text-white font-semibold px-6 py-2 rounded hover:bg-blue-600 transition-colors" %>

    <%= link_to "削除する",
                diary_entry_path(@diary_entry),
                data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
                class: "bg-red-500 text-white font-semibold px-6 py-2 rounded hover:bg-red-600 transition-colors" %>

    <%= link_to "一覧へ戻る",
                diary_entries_path,
                class: "bg-gray-200 text-gray-700 font-semibold px-6 py-2 rounded hover:bg-gray-300 transition-colors" %>
  </div>
</div>
